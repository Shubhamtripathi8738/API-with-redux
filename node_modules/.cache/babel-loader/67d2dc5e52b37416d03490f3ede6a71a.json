{"ast":null,"code":"var _jsxFileName = \"/home/spx060/Desktop/reduxpract2/redux-pract2/src/Home/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getProductsAction } from \"../Store/Action\";\nimport { getProducts } from \"../Api\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [state, setState] = useState([]); // const [state1, setState1] = useState(0)\n\n  const [LocalData, setLocalData] = useState();\n  const [newlocaldata, setNewLocalData] = useState();\n  const [cartdata, setCartData] = useState();\n  useEffect(() => {\n    const getproducts = localstorage.getitem(\"array\");\n    setNewData(getproducts);\n  });\n  useEffect(() => {\n    var _localStorage$getItem;\n\n    let z = [];\n    (_localStorage$getItem = localStorage.getItem(\"array\")) === null || _localStorage$getItem === void 0 ? void 0 : _localStorage$getItem.split(\",\").map(item => {\n      z.push(Number(item));\n      setLocalData(z);\n    });\n    setNewLocalData(localStorage.getItem(\"array\"));\n  }, [newlocaldata]);\n  const dispatch = useDispatch();\n  const products = useSelector(state => {\n    var _state$productReducer;\n\n    return (_state$productReducer = state.productReducer) === null || _state$productReducer === void 0 ? void 0 : _state$productReducer.productData;\n  });\n  useEffect(() => {\n    getProductsAction(dispatch);\n  }, [dispatch]);\n  useEffect(() => {\n    // getProducts().then((Response) => { return (setState(Response.data)) })\n    setNewLocalData(localStorage.getItem(\"array\"));\n  }, []);\n\n  const AddToCart = x => {\n    var _localStorage$getItem2;\n\n    var getdata = ((_localStorage$getItem2 = localStorage.getItem(\"array\")) === null || _localStorage$getItem2 === void 0 ? void 0 : _localStorage$getItem2.split(\",\")) || [];\n\n    if (!getdata.includes(`${x}`)) {\n      getdata.push(x);\n    }\n\n    localStorage.setItem(\"array\", getdata);\n    setNewLocalData(localStorage.getItem(\"array\"));\n  };\n\n  const RemoveFromCart = y => {\n    var _localStorage$getItem3;\n\n    var localstoragedata = (_localStorage$getItem3 = localStorage.getItem(\"array\")) === null || _localStorage$getItem3 === void 0 ? void 0 : _localStorage$getItem3.split(\",\");\n    var indexnumber = localstoragedata.indexOf(String(y));\n\n    if (indexnumber == -1) {} else {\n      localstoragedata.splice(indexnumber, 1);\n      localStorage.setItem(\"array\", localstoragedata);\n    }\n\n    setNewLocalData(localStorage.getItem(\"array\"));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/cart\",\n        children: \"Cart Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), cartdata ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: cartdata\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this) : null, products === null || products === void 0 ? void 0 : products.map((val, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"price: \", val.price, \" \\u20B9\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"description:\", val.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"category:\", val.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"rate: \", val.rating.rate, \" by \", val.rating.count]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: \"50px\"\n          },\n          src: val.image,\n          alt: \"\",\n          className: \"img-responsive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), LocalData !== null && LocalData !== void 0 && LocalData.includes(val.id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => RemoveFromCart(val.id),\n          children: \"Remove from cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => AddToCart(val.id),\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true);\n};\n\n_s(Home, \"35VfshgeeAMRPFzDTF3KFfFbbSU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","getProductsAction","getProducts","Link","Home","state","setState","LocalData","setLocalData","newlocaldata","setNewLocalData","cartdata","setCartData","getproducts","localstorage","getitem","setNewData","z","localStorage","getItem","split","map","item","push","Number","dispatch","products","productReducer","productData","AddToCart","x","getdata","includes","setItem","RemoveFromCart","y","localstoragedata","indexnumber","indexOf","String","splice","val","index","price","description","category","rating","rate","count","width","image","id"],"sources":["/home/spx060/Desktop/reduxpract2/redux-pract2/src/Home/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getProductsAction } from \"../Store/Action\";\nimport { getProducts } from \"../Api\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n  const [state, setState] = useState([]);\n  // const [state1, setState1] = useState(0)\n  const [LocalData, setLocalData] = useState();\n  const [newlocaldata, setNewLocalData] = useState();\n  const [cartdata,setCartData]=useState()\n\n  useEffect(()=>{\n    const getproducts=localstorage.getitem(\"array\")\n    setNewData(getproducts);\n})\n\n  useEffect(() => {\n    let z = [];\n    localStorage\n      .getItem(\"array\")\n      ?.split(\",\")\n      .map((item) => {\n        z.push(Number(item));\n        setLocalData(z);\n      });\n    setNewLocalData(localStorage.getItem(\"array\"));\n  }, [newlocaldata]);\n\n  const dispatch = useDispatch();\n  const products = useSelector((state) => state.productReducer?.productData);\n\n  useEffect(() => {\n    getProductsAction(dispatch);\n  }, [dispatch]);\n\n  useEffect(() => {\n    // getProducts().then((Response) => { return (setState(Response.data)) })\n    setNewLocalData(localStorage.getItem(\"array\"));\n  }, []);\n\n  const AddToCart = (x) => {\n    var getdata = localStorage.getItem(\"array\")?.split(\",\") || [];\n    if (!getdata.includes(`${x}`)) {\n      getdata.push(x);\n    }\n    localStorage.setItem(\"array\", getdata);\n    setNewLocalData(localStorage.getItem(\"array\"));\n  };\n\n  const RemoveFromCart = (y) => {\n    var localstoragedata = localStorage.getItem(\"array\")?.split(\",\");\n    var indexnumber = localstoragedata.indexOf(String(y));\n    if (indexnumber == -1) {\n    } else {\n      localstoragedata.splice(indexnumber, 1);\n      localStorage.setItem(\"array\", localstoragedata);\n    }\n    setNewLocalData(localStorage.getItem(\"array\"));\n  };\n\n  return (\n    <>\n    {/* <button onClick={()=>setState1(state1+1)}>++++</button>\n    {state1}\n    <button onClick={()=>(state1>0 && setState1(state1-1))}>----</button> */}\n      <span>\n        <Link to=\"/cart\">Cart Page</Link>\n      </span>\n      {cartdata?<span>{cartdata}</span>:null}\n\n\n      {products?.map((val, index) => {\n        return (\n          <div key={index}>\n            <div>price: {val.price} â‚¹</div>\n            <div>description:{val.description}</div>\n            <div>category:{val.category}</div>\n            <span>\n              rate: {val.rating.rate} by {val.rating.count}\n            </span>\n\n            <img\n              style={{ width: \"50px\" }}\n              src={val.image}\n              alt=\"\"\n              className=\"img-responsive\"\n            />\n\n            {LocalData?.includes(val.id) ? (\n              <button onClick={() => RemoveFromCart(val.id)}>\n                Remove from cart\n              </button>\n            ) : (\n              <button onClick={() => AddToCart(val.id)}>Add to Cart</button>\n            )}\n          </div>\n        );\n      })}\n    </>\n  );\n};\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}